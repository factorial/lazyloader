window.LazyLoader=function(b,h){var g={},a=[],e,d,f=true,c={lockTime:100,selector:"div[data-lazyload]",threshold:{x:0,y:0}};if(h){c.selector=h.selector||c.selector;c.threshold.x=h.threshold.x||c.threshold.x;c.threshold.y=h.threshold.y||c.threshold.y}elIsVisible=function(i){var i=jQuery(i),j=jQuery(window);elTop=i.offset().top,elLeft=i.offset().left,elBot=i.offset().top+i.height(),elRight=i.offset().left+i.width(),viewportCoords={top:j.scrollTop()+c.threshold.y,bot:j.height()+j.scrollTop()+c.threshold.y,left:j.scrollLeft()+c.threshold.x,right:j.width()+j.scrollLeft()+c.threshold.x};return((elTop<viewportCoords.bot&&elTop>viewportCoords.top)||(elBot<viewportCoords.bot&&elBot>viewportCoords.top))&&((elLeft<viewportCoords.right&&elLeft>viewportCoords.left)||(elRight<viewportCoords.right&&elRight>viewportCoords.left))};delay=function(k,i,j){var i=i||100,j=j||d;window.clearTimeout(d);d=window.setTimeout(k,i)};loadVisibleEls=function(){if(!f){return}else{f=false}var j=[],i={};a.each(function(k){if(a[k]&&elIsVisible(this)){i.el=jQuery(this);g.loadCallback(i);a[k]=null}});window.setTimeout(function(){f=true},c.lockTime)};g.loadCallback=b;a=jQuery(c.selector);jQuery(window).scroll(function(){delay(loadVisibleEls)});jQuery(window).resize(function(){delay(loadVisibleEls)});loadVisibleEls();return g};